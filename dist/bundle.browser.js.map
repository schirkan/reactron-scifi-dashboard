{"version":3,"file":"bundle.browser.js","sources":["../src/browser/components/DigitalClock/DigitalClock.tsx","../node_modules/style-inject/dist/style-inject.es.js","../src/browser/components/InfoItem/InfoItem.tsx","../src/browser/components/WeatherInfo/IWeatherInfoItemProps.tsx","../src/browser/components/WeatherInfo/WeatherInfo.tsx","../src/browser/components/Dashboard/getInfoItemData.ts","../src/browser/components/Dashboard/Dashboard.tsx","../src/browser/components/locationInput.tsx","../src/browser/index.ts"],"sourcesContent":["import moment from 'moment';\r\nimport * as React from 'react';\r\n\r\nexport interface IDigitalClockProps{\r\n  timezone: string;\r\n}\r\n\r\nexport class DigitalClock extends React.Component<IDigitalClockProps> {\r\n  private timer: number;\r\n\r\n  public componentDidMount() {\r\n    this.timer = window.setInterval(() => this.forceUpdate(), 60000);\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    window.clearInterval(this.timer);\r\n  }\r\n\r\n  public render() {\r\n    const time = moment().tz(this.props.timezone);\r\n    return time.format('LT');\r\n  }\r\n}\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import * as React from 'react';\r\n\r\nimport styles from './InfoItem.scss';\r\n// tslint:disable:no-string-literal\r\n\r\nexport interface IInfoItemProps {\r\n  title: any;\r\n  value: any;\r\n  circleContent: any;\r\n  circleStart: number;\r\n  circlePercent: number;\r\n}\r\n\r\nexport class InfoItem extends React.Component<IInfoItemProps> {\r\n  constructor(props: IInfoItemProps) {\r\n    super(props);\r\n  }\r\n\r\n  private renderCircle() {\r\n    const dark = '#444';\r\n    const light = '#fff';\r\n\r\n    const percent = Math.min(this.props.circlePercent, 100);\r\n    const angle = 360 * (percent / 100);\r\n    let start = Math.min(this.props.circleStart, 360);\r\n    if (angle < 0) {\r\n      start += 180;\r\n    }\r\n\r\n    const circleStyle: React.CSSProperties = {};\r\n    const circleStyleContent: React.CSSProperties = { background: dark };\r\n\r\n    if (percent > 50) {\r\n      circleStyle.backgroundImage = `\r\n        linear-gradient(${start + angle}deg, ${light} 50%, transparent 50%, transparent), \r\n        linear-gradient(${start + 180}deg, ${light} 50%, ${dark} 50%, ${dark})\r\n      `;\r\n    } else {\r\n      circleStyle.backgroundImage = `\r\n        linear-gradient(${start + angle + 180}deg, ${dark} 50%, transparent 50%, transparent), \r\n        linear-gradient(${start + 180}deg, ${light} 50%, ${dark} 50%, ${dark})\r\n      `;\r\n    }\r\n\r\n    return (\r\n      <div className={styles['circle']} style={circleStyle}>\r\n        <div className={styles['circleContent']} style={circleStyleContent}>\r\n          {this.props.circleContent}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className={styles['InfoItem']}>\r\n        <div className={styles['title']} >{this.props.title}</div>\r\n        <div className={styles['value']} >{this.props.value}</div>\r\n        {this.renderCircle()}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\r\n\r\nimport styles from './WeatherInfoItem.scss';\r\n// tslint:disable:no-string-literal\r\n\r\nexport interface IWeatherInfoItemProps {\r\n  valueTop?: any;\r\n  valueLeftTop?: any;\r\n  valueLeftBottom?: any;\r\n  valueRight?: any;\r\n  valueBottom?: any;\r\n}\r\n\r\nexport class WeatherInfoItem extends React.Component<IWeatherInfoItemProps> {\r\n  public render() {\r\n    return (<div className={styles['WeatherInfoItem']}>\r\n      <div className={styles['top']} hidden={!this.props.valueTop}>{this.props.valueTop}</div>\r\n      <div className={styles['left-top']}><div>{this.props.valueLeftTop}</div></div>\r\n      <div className={styles['left-bottom']}><div>{this.props.valueLeftBottom}</div></div>\r\n      <div className={styles['right']}>{this.props.valueRight}</div>\r\n      <div className={styles['bottom']}>{this.props.valueBottom}</div>\r\n    </div>);\r\n  }\r\n}\r\n","import { IReactronComponentContext } from '@schirkan/reactron-interfaces';\r\nimport moment from 'moment';\r\nimport numeral from 'numeral';\r\nimport * as React from 'react';\r\nimport { IWeatherCondition, IWeatherForecast } from 'reactron-openweathermap/src/server';\r\nimport { IWeatherInfoItemProps, WeatherInfoItem } from './IWeatherInfoItemProps';\r\n\r\nimport styles from './WeatherInfo.scss';\r\n// tslint:disable:no-string-literal\r\n\r\nexport interface IWeatherInfoProps {\r\n  context: IReactronComponentContext;\r\n  weatherForecast?: IWeatherForecast;\r\n  timezone: string;\r\n}\r\n\r\nexport class WeatherInfo extends React.Component<IWeatherInfoProps> {\r\n\r\n  public componentDidMount() {\r\n    // \r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    // \r\n  }\r\n\r\n  private renderItem(condition: IWeatherCondition, lastItem: IWeatherCondition | undefined) {\r\n    const night = condition && condition.weatherIcon.endsWith('n');\r\n\r\n    const weatherIcon = this.props.context.renderComponent({\r\n      moduleName: 'reactron-openweathermap',\r\n      componentName: 'WeatherIcon',\r\n      options: { weatherId: condition.weatherId, night },\r\n      className: styles['weatherIcon']\r\n    });\r\n\r\n    const date = moment(condition.timestamp * 1000).tz(this.props.timezone);\r\n    let valueTop = date.format('L');\r\n    if (lastItem) {\r\n      const lastDate = moment(lastItem.timestamp * 1000).tz(this.props.timezone);\r\n      if (date.dayOfYear() === lastDate.dayOfYear()) {\r\n        valueTop = '';\r\n      }\r\n    }\r\n\r\n    const data: IWeatherInfoItemProps = {\r\n      valueBottom: condition.weatherDescription,\r\n      valueLeftBottom: numeral(condition.temp).format('0.0'),\r\n      valueLeftTop: date.hour(),\r\n      valueRight: weatherIcon,\r\n      valueTop,\r\n    };\r\n\r\n    return (<WeatherInfoItem {...data} key={condition.timestamp} />);\r\n  }\r\n\r\n  private renderItems() {\r\n    if (!this.props.weatherForecast) {\r\n      return null;\r\n    }\r\n    let lastItem: IWeatherCondition | undefined;\r\n    return this.props.weatherForecast.conditions.slice(0, 10).map(item => {\r\n      const result = this.renderItem(item, lastItem)\r\n      lastItem = item;\r\n      return result;\r\n    });\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className={styles['WeatherInfo']}>\r\n        {this.renderItems()}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import numeral from 'numeral';\r\nimport { IWeatherCondition } from 'reactron-openweathermap/src/server/index';\r\nimport { IInfoItemProps } from '../InfoItem/InfoItem';\r\n\r\nexport const getInfoItemData = (info: string, units: string, condition: IWeatherCondition): IInfoItemProps | undefined => {\r\n  switch (info) {\r\n    case 'temp':\r\n      let tempCelsius = 0;\r\n      let tempUnit = '';\r\n      if (units === 'metric') {\r\n        tempUnit = '°C';\r\n        tempCelsius = condition.temp;\r\n      }\r\n      else if (units === 'imperial') {\r\n        tempUnit = '°F';\r\n        tempCelsius = (condition.temp - 32) / 1.8;\r\n      }\r\n      else {\r\n        tempUnit = '°K';\r\n        tempCelsius = condition.temp - 273.15;\r\n      }\r\n      return {\r\n        title: 'Temp',\r\n        value: numeral(condition.temp).format('0.0'),\r\n        circleContent: tempUnit,\r\n        circleStart: 90,\r\n        circlePercent: (100 / 40) * tempCelsius\r\n      };\r\n      \r\n    case 'rain':\r\n      const maxRain = 10;\r\n      const rainPercent = (100 / maxRain) * condition.rain;\r\n      return {\r\n        title: 'rain',\r\n        value: numeral(condition.rain).format('0.0'),\r\n        circleContent: 'mm',\r\n        circleStart: 90,\r\n        circlePercent: rainPercent\r\n      };\r\n\r\n    case 'pressure':\r\n      const minPressure = 900;\r\n      const maxPressure = 1100;\r\n      const pressurePercent = (100 / (maxPressure - minPressure)) * (condition.pressure - minPressure);\r\n      return {\r\n        title: 'Pressure',\r\n        value: numeral(condition.pressure).format('0'),\r\n        circleContent: 'hPa',\r\n        circleStart: 90,\r\n        circlePercent: pressurePercent\r\n      };\r\n\r\n    case 'clouds':\r\n      return {\r\n        title: 'Clouds',\r\n        value: numeral(condition.clouds).format('0'),\r\n        circleContent: '%',\r\n        circleStart: 90,\r\n        circlePercent: condition.clouds\r\n      };\r\n\r\n    case 'humidity':\r\n      return {\r\n        title: 'Humidity',\r\n        value: numeral(condition.humidity).format('0'),\r\n        circleContent: '%',\r\n        circleStart: 90,\r\n        circlePercent: condition.humidity\r\n      };\r\n\r\n    case 'wind':\r\n      return {\r\n        title: 'Wind',\r\n        value: numeral(condition.windSpeed).format('0.0'),\r\n        circleContent: units === 'imperial' ? 'mph' : 'km/h',\r\n        circleStart: 88 + condition.windDegree,\r\n        circlePercent: 4\r\n      };\r\n  }\r\n  return undefined;\r\n};","import { IReactronComponentContext } from '@schirkan/reactron-interfaces';\r\nimport moment from 'moment';\r\nimport * as React from 'react';\r\nimport { IWeatherForecast, IWeatherService } from 'reactron-openweathermap/src/server';\r\nimport { DigitalClock } from '../DigitalClock/DigitalClock';\r\nimport { InfoItem } from '../InfoItem/InfoItem';\r\nimport { InfoItemType } from '../InfoItem/InfoItemType';\r\nimport { WeatherInfo } from '../WeatherInfo/WeatherInfo';\r\nimport { getInfoItemData } from './getInfoItemData';\r\n\r\nimport styles from './Dashboard.scss';\r\n// tslint:disable:no-string-literal\r\n\r\nexport interface IDashboardProps {\r\n  location: { cityName: string, zip: string }\r\n  infoItems: InfoItemType[];\r\n  contentId: string;\r\n}\r\n\r\ninterface IDashboardState {\r\n  weatherForecast?: IWeatherForecast;\r\n  units?: string;\r\n}\r\n\r\nexport class Dashboard extends React.Component<IDashboardProps, IDashboardState> {\r\n  public context: IReactronComponentContext;\r\n  public static defaultProps: Partial<IDashboardProps> = {\r\n    location: { cityName: '', zip: '' },\r\n    infoItems: []\r\n  }\r\n\r\n  constructor(props: IDashboardProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  public async componentDidMount() {\r\n    this.context.topics.subscribe('system-settings-updated', () => this.forceUpdate());\r\n\r\n    if (this.props.location.zip || this.props.location.cityName) {\r\n      const weatherService = this.context.getService<IWeatherService>('WeatherService', 'reactron-openweathermap');\r\n      if (weatherService) {\r\n        const weatherForecast = await weatherService.getFiveDaysForecast({ zip: this.props.location.zip, cityName: this.props.location.cityName });\r\n        const options = weatherService.getOptions && await weatherService.getOptions();\r\n\r\n        this.setState({\r\n          weatherForecast,\r\n          units: options && options.units || 'metric'\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /* <DynamicSVG>\r\n      {bounds => this.renderFrame(bounds)}\r\n    </DynamicSVG> */\r\n\r\n  // private renderFrame(bounds: ClientRect) {\r\n  //   const stroke = 5;\r\n\r\n  //   const points: IPosition[] = [\r\n  //     { x: bounds.width - stroke, y: stroke },\r\n  //     { x: stroke, y: stroke },\r\n  //     { x: stroke, y: bounds.height - stroke },\r\n  //     { x: bounds.width - 77, y: bounds.height - stroke },\r\n  //     { x: bounds.width - 47, y: bounds.height - 30 },\r\n  //     { x: bounds.width - stroke, y: bounds.height - 30 },\r\n  //   ];\r\n\r\n  //   return (\r\n  //     <React.Fragment>\r\n  //       <SVGShape path={points} stroke=\"#379\" strokeSize={stroke} fill=\"#444\" />\r\n  //       <CircuitBoard />\r\n  //     </React.Fragment>\r\n  //   );\r\n  // }\r\n\r\n  private renderDate() {\r\n    const m = moment().tz(this.context.settings.timezone);\r\n    const dayOfWeek = m.format('dddd');\r\n    const month = m.format(\"MMM\");\r\n    const day = m.format(\"Do\");\r\n\r\n    const condition = this.state.weatherForecast && this.state.weatherForecast.conditions[0];\r\n    const weatherId = condition && condition.weatherId;\r\n    const night = condition && condition.weatherIcon.endsWith('n');\r\n\r\n    const weatherIcon = this.context.renderComponent({\r\n      moduleName: 'reactron-openweathermap',\r\n      componentName: 'WeatherIcon',\r\n      options: { weatherId, night },\r\n      className: styles['weatherIcon']\r\n    });\r\n\r\n    return (\r\n      <div className={styles['date']}>\r\n        <div className={styles['dayOfWeek']}>{dayOfWeek}</div>\r\n        <div className={styles['monthAndDay']}>\r\n          <span className={styles['month']}>{month}</span> <span>{day}</span>\r\n        </div>\r\n        {weatherIcon}\r\n        <div className={styles['block4']} />\r\n        <div className={styles['block3']} />\r\n        <div className={styles['block2']} />\r\n        <div className={styles['block1']} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderTime() {\r\n    return (\r\n      <div className={styles['time']}>\r\n        <span className={styles['label']}>TIME</span>\r\n        <span className={styles['value']}><DigitalClock timezone={this.context.settings.timezone} /></span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderLocation() {\r\n    return (\r\n      <div className={styles['location']}>\r\n        <span className={styles['label']}>LOCATION</span>\r\n        <span className={styles['value']}>{this.state.weatherForecast && this.state.weatherForecast.location.name}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderInfoItems() {\r\n    const items = this.props.infoItems.map((info, index) => this.renderInfoItem(info, index));\r\n    return (\r\n      <div className={styles['infos']}>\r\n        {items}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private renderInfoItem(info: InfoItemType, index: number) {\r\n    if (!this.state.weatherForecast || !this.state.units) {\r\n      return null;\r\n    }\r\n\r\n    const condition = this.state.weatherForecast.conditions[0];\r\n    const infoProps = getInfoItemData(info, this.state.units, condition);\r\n\r\n    if (!infoProps) {\r\n      return null;\r\n    }\r\n    return (<InfoItem key={index} {...infoProps} />);\r\n  }\r\n\r\n  private renderWeatherForecast() {\r\n    return (\r\n      <div className={styles['weatherForecast']}>\r\n        <WeatherInfo timezone={this.context.settings.timezone} weatherForecast={this.state.weatherForecast} context={this.context} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <section className={styles['Dashboard']}>\r\n        <div className={styles['leftLine']} />\r\n        {this.renderDate()}\r\n        {this.renderTime()}\r\n        {this.renderLocation()}\r\n        {this.renderInfoItems()}\r\n        {this.renderWeatherForecast()}\r\n        <div className={styles['content']}>\r\n          {this.props.contentId && this.context.renderComponent({ id: this.props.contentId })}\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import { IInputComponentProps } from '@schirkan/reactron-interfaces';\r\nimport * as React from 'react';\r\n\r\nexport const locationInput = (props: IInputComponentProps) => {\r\n  return props && props.value && (props.value.cityName || props.value.zip) ||\r\n    (<span style={{ color: 'red' }}>missing</span>);\r\n};","import { IReactronComponentDefinition } from '@schirkan/reactron-interfaces';\r\nimport { Dashboard } from './components/Dashboard/Dashboard';\r\nimport { locationInput } from './components/locationInput';\r\n\r\nexport const components: IReactronComponentDefinition[] = [{\r\n  component: Dashboard,\r\n  name: 'Dashboard',\r\n  description: 'Dashboard',\r\n  displayName: 'Dashboard',\r\n  type: 'content',\r\n  fields: [{\r\n    name: 'location',\r\n    displayName: 'Location',\r\n    valueType: 'object',\r\n    fields: [{\r\n      name: 'cityName',\r\n      description: 'City Name',\r\n      displayName: 'City Name',\r\n      valueType: 'string'\r\n    }, {\r\n      name: 'zip',\r\n      description: 'Zip, Country Code',\r\n      displayName: 'Zip, Country Code',\r\n      valueType: 'string'\r\n    }],\r\n    inputControl: locationInput\r\n  }, {\r\n    name: 'infoItems',\r\n    displayName: 'Infos',\r\n    valueType: 'string',\r\n    isArray: true,\r\n    values: [\r\n      { value: 'temp', text: 'Temperature' },\r\n      { value: 'rain', text: 'Rain' },\r\n      { value: 'pressure', text: 'Pressure' },\r\n      { value: 'clouds', text: 'Clouds' },\r\n      { value: 'humidity', text: 'Humidity' },\r\n      { value: 'wind', text: 'Wind' }\r\n    ]\r\n  }, {\r\n    name: 'contentId',\r\n    displayName: 'Content',\r\n    valueType: 'webComponent',\r\n  }]\r\n}];\r\n\r\nexport * from './components/Dashboard/Dashboard';"],"names":["React.Component","React.createElement","styles"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAOa,YAAa,SAAQA,SAAmC;gBAG5D,iBAAiB;oBACtB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,CAAC;iBAClE;gBAEM,oBAAoB;oBACzB,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAClC;gBAEM,MAAM;oBACX,MAAM,IAAI,GAAG,MAAM,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;oBAC9C,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;iBAC1B;aACF;;YCtBD,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;YAC/B,EAAE,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;YACjC,EAAE,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;YAE9B,EAAE,IAAI,CAAC,GAAG,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;;YAE1D,EAAE,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACvE,EAAE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAC9C,EAAE,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;;YAE1B,EAAE,IAAI,QAAQ,KAAK,KAAK,EAAE;YAC1B,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;YACzB,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAChD,KAAK,MAAM;YACX,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC9B,KAAK;YACL,GAAG,MAAM;YACT,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC5B,GAAG;;YAEH,EAAE,IAAI,KAAK,CAAC,UAAU,EAAE;YACxB,IAAI,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;YACnC,GAAG,MAAM;YACT,IAAI,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;YACpD,GAAG;YACH,CAAC;;;;;;kBCZY,QAAS,SAAQA,SAA+B;gBAC3D,YAAY,KAAqB;oBAC/B,KAAK,CAAC,KAAK,CAAC,CAAC;iBACd;gBAEO,YAAY;oBAClB,MAAM,IAAI,GAAG,MAAM,CAAC;oBACpB,MAAM,KAAK,GAAG,MAAM,CAAC;oBAErB,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;oBACxD,MAAM,KAAK,GAAG,GAAG,IAAI,OAAO,GAAG,GAAG,CAAC,CAAC;oBACpC,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;oBAClD,IAAI,KAAK,GAAG,CAAC,EAAE;wBACb,KAAK,IAAI,GAAG,CAAC;qBACd;oBAED,MAAM,WAAW,GAAwB,EAAE,CAAC;oBAC5C,MAAM,kBAAkB,GAAwB,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;oBAErE,IAAI,OAAO,GAAG,EAAE,EAAE;wBAChB,WAAW,CAAC,eAAe,GAAG;0BACV,KAAK,GAAG,KAAK,QAAQ,KAAK;0BAC1B,KAAK,GAAG,GAAG,QAAQ,KAAK,SAAS,IAAI,SAAS,IAAI;OACrE,CAAC;qBACH;yBAAM;wBACL,WAAW,CAAC,eAAe,GAAG;0BACV,KAAK,GAAG,KAAK,GAAG,GAAG,QAAQ,IAAI;0BAC/B,KAAK,GAAG,GAAG,QAAQ,KAAK,SAAS,IAAI,SAAS,IAAI;OACrE,CAAC;qBACH;oBAED,QACEC,uBAAK,SAAS,EAAE,MAAM,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,WAAW;wBAClDA,uBAAK,SAAS,EAAE,MAAM,CAAC,eAAe,CAAC,EAAE,KAAK,EAAE,kBAAkB,IAC/D,IAAI,CAAC,KAAK,CAAC,aAAa,CACrB,CACF,EACN;iBACH;gBAEM,MAAM;oBACX,QACEA,2BAAS,SAAS,EAAE,MAAM,CAAC,UAAU,CAAC;wBACpCA,uBAAK,SAAS,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAO;wBAC1DA,uBAAK,SAAS,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAO;wBACzD,IAAI,CAAC,YAAY,EAAE,CACZ,EACV;iBACH;aACF;;;;;;kBCjDY,eAAgB,SAAQD,SAAsC;gBAClE,MAAM;oBACX,QAAQC,uBAAK,SAAS,EAAEC,QAAM,CAAC,iBAAiB,CAAC;wBAC/CD,uBAAK,SAAS,EAAEC,QAAM,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAO;wBACxFD,uBAAK,SAAS,EAAEC,QAAM,CAAC,UAAU,CAAC;4BAAED,2BAAM,IAAI,CAAC,KAAK,CAAC,YAAY,CAAO,CAAM;wBAC9EA,uBAAK,SAAS,EAAEC,QAAM,CAAC,aAAa,CAAC;4BAAED,2BAAM,IAAI,CAAC,KAAK,CAAC,eAAe,CAAO,CAAM;wBACpFA,uBAAK,SAAS,EAAEC,QAAM,CAAC,OAAO,CAAC,IAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAO;wBAC9DD,uBAAK,SAAS,EAAEC,QAAM,CAAC,QAAQ,CAAC,IAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAO,CAC5D,EAAE;iBACT;aACF;;;;;;kBCPY,WAAY,SAAQF,SAAkC;gBAE1D,iBAAiB;;iBAEvB;gBAEM,oBAAoB;;iBAE1B;gBAEO,UAAU,CAAC,SAA4B,EAAE,QAAuC;oBACtF,MAAM,KAAK,GAAG,SAAS,IAAI,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;oBAE/D,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;wBACrD,UAAU,EAAE,yBAAyB;wBACrC,aAAa,EAAE,aAAa;wBAC5B,OAAO,EAAE,EAAE,SAAS,EAAE,SAAS,CAAC,SAAS,EAAE,KAAK,EAAE;wBAClD,SAAS,EAAEE,QAAM,CAAC,aAAa,CAAC;qBACjC,CAAC,CAAC;oBAEH,MAAM,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;oBACxE,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;oBAChC,IAAI,QAAQ,EAAE;wBACZ,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;wBAC3E,IAAI,IAAI,CAAC,SAAS,EAAE,KAAK,QAAQ,CAAC,SAAS,EAAE,EAAE;4BAC7C,QAAQ,GAAG,EAAE,CAAC;yBACf;qBACF;oBAED,MAAM,IAAI,GAA0B;wBAClC,WAAW,EAAE,SAAS,CAAC,kBAAkB;wBACzC,eAAe,EAAE,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;wBACtD,YAAY,EAAE,IAAI,CAAC,IAAI,EAAE;wBACzB,UAAU,EAAE,WAAW;wBACvB,QAAQ;qBACT,CAAC;oBAEF,QAAQD,cAAC,eAAe,oBAAK,IAAI,IAAE,GAAG,EAAE,SAAS,CAAC,SAAS,IAAI,EAAE;iBAClE;gBAEO,WAAW;oBACjB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE;wBAC/B,OAAO,IAAI,CAAC;qBACb;oBACD,IAAI,QAAuC,CAAC;oBAC5C,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI;wBAChE,MAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;wBAC9C,QAAQ,GAAG,IAAI,CAAC;wBAChB,OAAO,MAAM,CAAC;qBACf,CAAC,CAAC;iBACJ;gBAEM,MAAM;oBACX,QACEA,2BAAS,SAAS,EAAEC,QAAM,CAAC,aAAa,CAAC,IACtC,IAAI,CAAC,WAAW,EAAE,CACX,EACV;iBACH;aACF;;YCvEM,MAAM,eAAe,GAAG,CAAC,IAAY,EAAE,KAAa,EAAE,SAA4B;gBACvF,QAAQ,IAAI;oBACV,KAAK,MAAM;wBACT,IAAI,WAAW,GAAG,CAAC,CAAC;wBACpB,IAAI,QAAQ,GAAG,EAAE,CAAC;wBAClB,IAAI,KAAK,KAAK,QAAQ,EAAE;4BACtB,QAAQ,GAAG,IAAI,CAAC;4BAChB,WAAW,GAAG,SAAS,CAAC,IAAI,CAAC;yBAC9B;6BACI,IAAI,KAAK,KAAK,UAAU,EAAE;4BAC7B,QAAQ,GAAG,IAAI,CAAC;4BAChB,WAAW,GAAG,CAAC,SAAS,CAAC,IAAI,GAAG,EAAE,IAAI,GAAG,CAAC;yBAC3C;6BACI;4BACH,QAAQ,GAAG,IAAI,CAAC;4BAChB,WAAW,GAAG,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC;yBACvC;wBACD,OAAO;4BACL,KAAK,EAAE,MAAM;4BACb,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;4BAC5C,aAAa,EAAE,QAAQ;4BACvB,WAAW,EAAE,EAAE;4BACf,aAAa,EAAE,CAAC,GAAG,GAAG,EAAE,IAAI,WAAW;yBACxC,CAAC;oBAEJ,KAAK,MAAM;wBACT,MAAM,OAAO,GAAG,EAAE,CAAC;wBACnB,MAAM,WAAW,GAAG,CAAC,GAAG,GAAG,OAAO,IAAI,SAAS,CAAC,IAAI,CAAC;wBACrD,OAAO;4BACL,KAAK,EAAE,MAAM;4BACb,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;4BAC5C,aAAa,EAAE,IAAI;4BACnB,WAAW,EAAE,EAAE;4BACf,aAAa,EAAE,WAAW;yBAC3B,CAAC;oBAEJ,KAAK,UAAU;wBACb,MAAM,WAAW,GAAG,GAAG,CAAC;wBACxB,MAAM,WAAW,GAAG,IAAI,CAAC;wBACzB,MAAM,eAAe,GAAG,CAAC,GAAG,IAAI,WAAW,GAAG,WAAW,CAAC,KAAK,SAAS,CAAC,QAAQ,GAAG,WAAW,CAAC,CAAC;wBACjG,OAAO;4BACL,KAAK,EAAE,UAAU;4BACjB,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC;4BAC9C,aAAa,EAAE,KAAK;4BACpB,WAAW,EAAE,EAAE;4BACf,aAAa,EAAE,eAAe;yBAC/B,CAAC;oBAEJ,KAAK,QAAQ;wBACX,OAAO;4BACL,KAAK,EAAE,QAAQ;4BACf,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC;4BAC5C,aAAa,EAAE,GAAG;4BAClB,WAAW,EAAE,EAAE;4BACf,aAAa,EAAE,SAAS,CAAC,MAAM;yBAChC,CAAC;oBAEJ,KAAK,UAAU;wBACb,OAAO;4BACL,KAAK,EAAE,UAAU;4BACjB,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC;4BAC9C,aAAa,EAAE,GAAG;4BAClB,WAAW,EAAE,EAAE;4BACf,aAAa,EAAE,SAAS,CAAC,QAAQ;yBAClC,CAAC;oBAEJ,KAAK,MAAM;wBACT,OAAO;4BACL,KAAK,EAAE,MAAM;4BACb,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;4BACjD,aAAa,EAAE,KAAK,KAAK,UAAU,GAAG,KAAK,GAAG,MAAM;4BACpD,WAAW,EAAE,EAAE,GAAG,SAAS,CAAC,UAAU;4BACtC,aAAa,EAAE,CAAC;yBACjB,CAAC;iBACL;gBACD,OAAO,SAAS,CAAC;YACnB,CAAC,CAAC;;;;;;kBCxDW,SAAU,SAAQF,SAAiD;gBAO9E,YAAY,KAAsB;oBAChC,KAAK,CAAC,KAAK,CAAC,CAAC;oBAEb,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;iBACjB;gBAEY,iBAAiB;;wBAC5B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,yBAAyB,EAAE,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;wBAEnF,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE;4BAC3D,MAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAkB,gBAAgB,EAAE,yBAAyB,CAAC,CAAC;4BAC7G,IAAI,cAAc,EAAE;gCAClB,MAAM,eAAe,GAAG,MAAM,cAAc,CAAC,mBAAmB,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;gCAC3I,MAAM,OAAO,GAAG,cAAc,CAAC,UAAU,KAAI,MAAM,cAAc,CAAC,UAAU,EAAE,CAAA,CAAC;gCAE/E,IAAI,CAAC,QAAQ,CAAC;oCACZ,eAAe;oCACf,KAAK,EAAE,OAAO,IAAI,OAAO,CAAC,KAAK,IAAI,QAAQ;iCAC5C,CAAC,CAAC;6BACJ;yBACF;qBACF;iBAAA;;;;;;;;;;;;;;;;;;;;;gBA0BO,UAAU;oBAChB,MAAM,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;oBACtD,MAAM,SAAS,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;oBACnC,MAAM,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBAC9B,MAAM,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBAE3B,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,IAAI,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACzF,MAAM,SAAS,GAAG,SAAS,IAAI,SAAS,CAAC,SAAS,CAAC;oBACnD,MAAM,KAAK,GAAG,SAAS,IAAI,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;oBAE/D,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;wBAC/C,UAAU,EAAE,yBAAyB;wBACrC,aAAa,EAAE,aAAa;wBAC5B,OAAO,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE;wBAC7B,SAAS,EAAEE,QAAM,CAAC,aAAa,CAAC;qBACjC,CAAC,CAAC;oBAEH,QACED,uBAAK,SAAS,EAAEC,QAAM,CAAC,MAAM,CAAC;wBAC5BD,uBAAK,SAAS,EAAEC,QAAM,CAAC,WAAW,CAAC,IAAG,SAAS,CAAO;wBACtDD,uBAAK,SAAS,EAAEC,QAAM,CAAC,aAAa,CAAC;4BACnCD,wBAAM,SAAS,EAAEC,QAAM,CAAC,OAAO,CAAC,IAAG,KAAK,CAAQ;;4BAACD,4BAAO,GAAG,CAAQ,CAC/D;wBACL,WAAW;wBACZA,uBAAK,SAAS,EAAEC,QAAM,CAAC,QAAQ,CAAC,GAAI;wBACpCD,uBAAK,SAAS,EAAEC,QAAM,CAAC,QAAQ,CAAC,GAAI;wBACpCD,uBAAK,SAAS,EAAEC,QAAM,CAAC,QAAQ,CAAC,GAAI;wBACpCD,uBAAK,SAAS,EAAEC,QAAM,CAAC,QAAQ,CAAC,GAAI,CAChC,EACN;iBACH;gBAEO,UAAU;oBAChB,QACED,uBAAK,SAAS,EAAEC,QAAM,CAAC,MAAM,CAAC;wBAC5BD,wBAAM,SAAS,EAAEC,QAAM,CAAC,OAAO,CAAC,WAAa;wBAC7CD,wBAAM,SAAS,EAAEC,QAAM,CAAC,OAAO,CAAC;4BAAED,cAAC,YAAY,IAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,GAAI,CAAO,CAC/F,EACN;iBACH;gBAEO,cAAc;oBACpB,QACEA,uBAAK,SAAS,EAAEC,QAAM,CAAC,UAAU,CAAC;wBAChCD,wBAAM,SAAS,EAAEC,QAAM,CAAC,OAAO,CAAC,eAAiB;wBACjDD,wBAAM,SAAS,EAAEC,QAAM,CAAC,OAAO,CAAC,IAAG,IAAI,CAAC,KAAK,CAAC,eAAe,IAAI,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAQ,CAC7G,EACN;iBACH;gBAEO,eAAe;oBACrB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,KAAK,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;oBAC1F,QACED,uBAAK,SAAS,EAAEC,QAAM,CAAC,OAAO,CAAC,IAC5B,KAAK,CACF,EACN;iBACH;gBAEO,cAAc,CAAC,IAAkB,EAAE,KAAa;oBACtD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;wBACpD,OAAO,IAAI,CAAC;qBACb;oBAED,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC3D,MAAM,SAAS,GAAG,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;oBAErE,IAAI,CAAC,SAAS,EAAE;wBACd,OAAO,IAAI,CAAC;qBACb;oBACD,QAAQD,cAAC,QAAQ,kBAAC,GAAG,EAAE,KAAK,IAAM,SAAS,EAAI,EAAE;iBAClD;gBAEO,qBAAqB;oBAC3B,QACEA,uBAAK,SAAS,EAAEC,QAAM,CAAC,iBAAiB,CAAC;wBACvCD,cAAC,WAAW,IAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,GAAI,CACzH,EACN;iBACH;gBAEM,MAAM;oBACX,QACEA,2BAAS,SAAS,EAAEC,QAAM,CAAC,WAAW,CAAC;wBACrCD,uBAAK,SAAS,EAAEC,QAAM,CAAC,UAAU,CAAC,GAAI;wBACrC,IAAI,CAAC,UAAU,EAAE;wBACjB,IAAI,CAAC,UAAU,EAAE;wBACjB,IAAI,CAAC,cAAc,EAAE;wBACrB,IAAI,CAAC,eAAe,EAAE;wBACtB,IAAI,CAAC,qBAAqB,EAAE;wBAC7BD,uBAAK,SAAS,EAAEC,QAAM,CAAC,SAAS,CAAC,IAC9B,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAC/E,CACE,EACV;iBACH;;YAnJa,sBAAY,GAA6B;gBACrD,QAAQ,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;gBACnC,SAAS,EAAE,EAAE;aACd,CAAA;;YC1BI,MAAM,aAAa,GAAG,CAAC,KAA2B;gBACvD,OAAO,KAAK,IAAI,KAAK,CAAC,KAAK,KAAK,KAAK,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;qBACrED,wBAAM,KAAK,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,cAAgB,CAAC,CAAC;YACpD,CAAC,CAAC;;kBCFW,UAAU,yBAAmC,CAAC;oBACzD,SAAS,EAAE,SAAS;oBACpB,IAAI,EAAE,WAAW;oBACjB,WAAW,EAAE,WAAW;oBACxB,WAAW,EAAE,WAAW;oBACxB,IAAI,EAAE,SAAS;oBACf,MAAM,EAAE,CAAC;4BACP,IAAI,EAAE,UAAU;4BAChB,WAAW,EAAE,UAAU;4BACvB,SAAS,EAAE,QAAQ;4BACnB,MAAM,EAAE,CAAC;oCACP,IAAI,EAAE,UAAU;oCAChB,WAAW,EAAE,WAAW;oCACxB,WAAW,EAAE,WAAW;oCACxB,SAAS,EAAE,QAAQ;iCACpB,EAAE;oCACD,IAAI,EAAE,KAAK;oCACX,WAAW,EAAE,mBAAmB;oCAChC,WAAW,EAAE,mBAAmB;oCAChC,SAAS,EAAE,QAAQ;iCACpB,CAAC;4BACF,YAAY,EAAE,aAAa;yBAC5B,EAAE;4BACD,IAAI,EAAE,WAAW;4BACjB,WAAW,EAAE,OAAO;4BACpB,SAAS,EAAE,QAAQ;4BACnB,OAAO,EAAE,IAAI;4BACb,MAAM,EAAE;gCACN,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE;gCACtC,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;gCAC/B,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE;gCACvC,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE;gCACnC,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE;gCACvC,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;6BAChC;yBACF,EAAE;4BACD,IAAI,EAAE,WAAW;4BACjB,WAAW,EAAE,SAAS;4BACtB,SAAS,EAAE,cAAc;yBAC1B,CAAC;iBACH,CAAC;;;;;;"}