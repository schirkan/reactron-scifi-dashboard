{"version":3,"file":"bundle.server.js","sources":["../src/server/services/DashboardService.ts","../src/server/index.ts"],"sourcesContent":["import { IReactronService, IReactronServiceContext, IWebComponentOptions, IWebPageOptions } from '@schirkan/reactron-interfaces';\r\n\r\nexport class DashboardService implements IReactronService {\r\n  public async start(context: IReactronServiceContext): Promise<void> {\r\n    console.log('DashboardService.start');\r\n\r\n    const page: IWebPageOptions = {\r\n      id: 'scifi-dashboard-page',\r\n      title: 'Scifi Dashboard',\r\n      path: '/dashboard',\r\n      webComponentId: 'scifi-dashboard',\r\n      style: {}\r\n    };\r\n\r\n    const component: IWebComponentOptions = {\r\n      id: 'scifi-dashboard',\r\n      parentId: 'scifi-dashboard-page',\r\n      componentName: 'Dashboard',\r\n      moduleName: 'reactron-scifi-dashboard',\r\n      options: {}\r\n    };\r\n\r\n    // register component\r\n    const components = context.backendService.webComponentsManager.getAll();\r\n    if (!components.find(x => x.id === component.id)) {\r\n      context.backendService.webComponentsManager.createOrUpdate(component);\r\n    }\r\n\r\n    // register page\r\n    const pages = context.backendService.webPageManager.getAll();\r\n    if (!pages.find(x => x.id === page.id)) {\r\n      context.backendService.webPageManager.createOrUpdate(page);\r\n\r\n      // set start page\r\n      const settings = context.backendService.settings.get();\r\n      settings.startupPath = page.path;\r\n      context.backendService.settings.set(settings);\r\n    }\r\n  }\r\n}","import { IReactronServiceDefinition } from \"@schirkan/reactron-interfaces\";\r\nimport { DashboardService } from \"./services/DashboardService\";\r\n\r\nexport const services: IReactronServiceDefinition[] = [{\r\n    name: 'ScifiDashboardService',\r\n    displayName: 'Scifi-Dashboard Service',\r\n    description: 'Registers Dashboard page on startup',\r\n    service: DashboardService\r\n}];"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;IAAA;KAqCC;IApCc,gCAAK,GAAlB,UAAmB,OAAgC;uCAAG,OAAO;;;gBAC3D,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;gBAEhC,IAAI,GAAoB;oBAC5B,EAAE,EAAE,sBAAsB;oBAC1B,KAAK,EAAE,iBAAiB;oBACxB,IAAI,EAAE,YAAY;oBAClB,cAAc,EAAE,iBAAiB;oBACjC,KAAK,EAAE,EAAE;iBACV,CAAC;gBAEI,SAAS,GAAyB;oBACtC,EAAE,EAAE,iBAAiB;oBACrB,QAAQ,EAAE,sBAAsB;oBAChC,aAAa,EAAE,WAAW;oBAC1B,UAAU,EAAE,0BAA0B;oBACtC,OAAO,EAAE,EAAE;iBACZ,CAAC;gBAGI,UAAU,GAAG,OAAO,CAAC,cAAc,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC;gBACxE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,GAAA,CAAC,EAAE;oBAChD,OAAO,CAAC,cAAc,CAAC,oBAAoB,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;iBACvE;gBAGK,KAAK,GAAG,OAAO,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;gBAC7D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,GAAA,CAAC,EAAE;oBACtC,OAAO,CAAC,cAAc,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBAGrD,QAAQ,GAAG,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;oBACvD,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;oBACjC,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;iBAC/C;;;;KACF;IACH,uBAAC;CAAA,IAAA;;ICpCY,QAAQ,GAAiC,CAAC;QACnD,IAAI,EAAE,uBAAuB;QAC7B,WAAW,EAAE,yBAAyB;QACtC,WAAW,EAAE,qCAAqC;QAClD,OAAO,EAAE,gBAAgB;KAC5B,CAAC;;;;"}