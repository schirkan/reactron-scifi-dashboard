{"version":3,"file":"bundle.server.js","sources":["../src/server/services/DashboardService.ts","../src/server/index.ts"],"sourcesContent":["import { IReactronService, IReactronServiceContext, IWebComponentOptions, IWebPageOptions } from '@schirkan/reactron-interfaces';\r\n\r\nexport class DashboardService implements IReactronService {\r\n  public async start(context: IReactronServiceContext): Promise<void> {\r\n    const page: IWebPageOptions = {\r\n      id: 'scifi-dashboard-page',\r\n      title: 'Scifi Dashboard',\r\n      path: '/dashboard',\r\n      webComponentId: 'scifi-dashboard',\r\n      style: {}\r\n    };\r\n\r\n    const component: IWebComponentOptions = {\r\n      id: 'scifi-dashboard',\r\n      parentId: 'scifi-dashboard-page',\r\n      componentName: 'Dashboard',\r\n      moduleName: 'reactron-scifi-dashboard',\r\n      options: { location: { cityName: 'New York' } }\r\n    };\r\n\r\n    // register component\r\n    const components = await context.services.components.getWebComponentOptions();\r\n    if (!components.find(x => x.id === component.id)) {\r\n      await context.services.components.setWebComponentOptions(component);\r\n    }\r\n\r\n    // register page\r\n    const pages = await context.services.pages.getWebPages();\r\n    if (!pages.find(x => x.id === page.id)) {\r\n      await context.services.pages.setWebPage(page);\r\n\r\n      // set start page\r\n      const settings =  {...context.settings};\r\n      settings.startupPath = page.path;\r\n      await context.services.application.setSettings(settings);\r\n    }\r\n  }\r\n}","import { IReactronServiceDefinition } from \"@schirkan/reactron-interfaces\";\r\nimport { DashboardService } from \"./services/DashboardService\";\r\n\r\nexport const services: IReactronServiceDefinition[] = [{\r\n    name: 'ScifiDashboardService',\r\n    displayName: 'Scifi-Dashboard Service',\r\n    description: 'Registers Dashboard page on startup',\r\n    service: DashboardService\r\n}];"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;MAEa,gBAAgB;IACd,KAAK,CAAC,OAAgC;;YACjD,MAAM,IAAI,GAAoB;gBAC5B,EAAE,EAAE,sBAAsB;gBAC1B,KAAK,EAAE,iBAAiB;gBACxB,IAAI,EAAE,YAAY;gBAClB,cAAc,EAAE,iBAAiB;gBACjC,KAAK,EAAE,EAAE;aACV,CAAC;YAEF,MAAM,SAAS,GAAyB;gBACtC,EAAE,EAAE,iBAAiB;gBACrB,QAAQ,EAAE,sBAAsB;gBAChC,aAAa,EAAE,WAAW;gBAC1B,UAAU,EAAE,0BAA0B;gBACtC,OAAO,EAAE,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE;aAChD,CAAC;;YAGF,MAAM,UAAU,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,sBAAsB,EAAE,CAAC;YAC9E,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,CAAC,EAAE,CAAC,EAAE;gBAChD,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC;aACrE;;YAGD,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;YACzD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,CAAC,EAAE;gBACtC,MAAM,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;;gBAG9C,MAAM,QAAQ,qBAAQ,OAAO,CAAC,QAAQ,CAAC,CAAC;gBACxC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;gBACjC,MAAM,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;aAC1D;SACF;KAAA;CACF;;MClCY,QAAQ,GAAiC,CAAC;QACnD,IAAI,EAAE,uBAAuB;QAC7B,WAAW,EAAE,yBAAyB;QACtC,WAAW,EAAE,qCAAqC;QAClD,OAAO,EAAE,gBAAgB;KAC5B,CAAC;;;;"}